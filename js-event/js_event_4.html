<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<div id="fade-obj" style="width:300px;height:300px;background:#000;opacity:1"></div>
    <button id="fade-btn">淡出</button>

    <script type="text/javascript">
    	var btn = document.getElementById("fade-btn");
    	var obj = document.getElementById("fade-obj");

    	function fadeOut(el) {
		  var op = 1;
		  var timer = setInterval(function () {
		    el.style.opacity = op;
		    op -= op * 0.1;
		    btn.disabled = "disabled";
		    if (op <= 0.0001){
		      clearInterval(timer);
		      btn.innerHTML = "淡入";
		      btn.disabled = "";
		    }
		  }, 50);
		}
    	
    	function fadeIn(el) {
		  var op = 0;
		  var timer = setInterval(function () {
		    el.style.opacity = op;
		    op += 0.1;
		    btn.disabled = "disabled";
		    if (op >= 1){
		      clearInterval(timer);
		      btn.innerHTML = "淡出";
		      btn.disabled = "";
		     
		    }
		  }, 50);
		}
    	
    	btn.addEventListener('click', function() {
    			if(obj.style.opacity == 1){
    			  fadeOut(obj);
    			} else {
    			  fadeIn(obj);  
    			}
    	}, false)

    </script>

</body>
</html>